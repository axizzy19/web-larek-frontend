# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Presenter
Компоненты представления
### Класс EventEmitter
Брокер событий
Аргументы:
`` events `` - события;
Методы:
`` on, off, emit `` - добавить и снять обработчик, слушать все события;

## View
Слой отображения, задача - выводить что-то на экран и генерировать события с действиями пользователя.
### Класс Component
Базовый компонент, принимает в переменной T тип данных
Конструктор принимает такие аргументы:
`` container: HTMLElement`` - составляющий компонент;
Методы: 
`` set `` - для установки значений;
`` toggleClass(element: HTMLElement, className: string) `` - переключает класс;
`` render(data): HTMLElement `` - возвращает корневой DOM-элемент;

### Класс Page
Главная страница проекта, реализует методы работы с карточками.
Наследует класс Component
Конструктор принимает такие аргументы:
`` container: HTMLElement `` - контейнер карточек;
`` events: HTMLElement `` - события;
Методы: 
`` set `` - для отрисовки страницы, установки значений;
Другие аргументы:
`` catalog: HTMLElement[] `` - каталог карточек;
`` basket: HTMLElement `` - корзина;

### Класс Card
Карточка товара, можно открывать ее модальное окно.
Наследует Component
Конструктор принимает такие аргументы:
`` cardTitle: string `` - загаловок карточки;
`` container: HTMLElement `` - описание карточки;
Другие аргументы:
`` cardTitle: string `` - загаловок карточки;
`` cardDescription: string `` - описание карточки;
`` cardPrice: number `` - цена карточки;
`` cardCategory: string `` - категория карточки;
`` cardImage: HTMLImageElement `` - картинка карточки;
`` cardButton: HTMLButtonElement `` - картинка карточки;
Методы: 
`` set `` - для установки значений;
`` get `` - для получения значений;
`` openModal `` - для открытия модального окна карточки;

### Класс Modal
Модальное окно.
Наследует Component
Конструктор принимает такие аргументы:
`` container: HTMLElement `` - контейнер карточек;
`` events: HTMLElement `` - события;
Другие аргументы:
`` closeButton: HTMLButtonElement`` - кнопка закрытия модального окна;
`` content: HTMLElement `` - контент карточки;
Методы: 
`` set `` - для установки значений;
`` close `` - для закрытия модального окна;
`` open `` - для открытия модального окна;

### Класс Basket
Контент корзины
Наследует класс Component
Конструктор принимает такие аргументы:
`` container: HTMLElement`` - составляющий компонент корзины;
`` events `` - события в корзине;
Методы: 
`` set `` - для установки значений;
Другие аргументы:
`` list: HTMLElement `` - список товаров;
`` total: number `` - итоговая стоимость;
`` button: HTMLButtonElement `` - кнопка оформления заказа;

### Класс Form
Проверка валидности формы
Наследует Component
Конструктор принимает такие аргументы:
`` container: HTMLFormElement`` - составляющий компонент;
`` events `` - события в форме;
Методы: 
`` set `` - для установки значений;
Другие аргументы:
`` valid: boolean `` - хранит True, если есть ошибка, False, если ошибки нет;
`` errors: string[] `` - хранит текст ошибки;

### Класс Success
Окно об успешной отправке формы
Наследует Component
Конструктор принимает такие аргументы:
`` container: HTMLElement`` - составляющий компонент;
`` events `` - события в окне;
Другие аргументы:
`` image: HTMLImageElement `` - картинка;
`` total: string `` - итогвая стоимость;
`` buttonFinish: HTMLButtonElement `` - кнопка для возвращения на главную;

### Класс CardModal
Наследует класс Modal, добавляется кнопка для добавления карточки в корзину.
Конструктор принимает такие аргументы:
`` addToBasketButton: HTMLButtonElement`` - кнопка добавления карточки в корзину;

## Model
Слой между сервером и интерфейсом
### Класс Api
Взаимодействие с сервером
Конструктор принимает такие аргументы:
`` baseUrl: string`` - куда отправить запрос;
`` options`` - настройки запроса;
Методы:
`` get(uri: string) `` - получить данные с сервера;
`` post(uri:string) `` - отправить данные на сервер;
`` handleResponse `` - проверяем, что запрос прошел успешно;

### Класс CardApi
Отправка данных на сервер при покупке
Наследует класс Api
Конструктор принимает такие аргументы:
`` baseUrl: string`` - куда отправить запрос;
`` options`` - настройки запроса;
Методы:
`` getSomething(uri: string) `` - запросы, чтобы получить данные с сервера;
`` post(uri:string) `` - отправить данные на сервер;
